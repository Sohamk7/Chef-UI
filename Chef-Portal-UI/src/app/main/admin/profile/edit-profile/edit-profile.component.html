
<div fxLayout="column">
    <div class="header-section" fxLayout="row" fxLayoutAlign="space-between">
        <div fxLayout="row" fxLayoutGap="15px">
            <span class="bold">{{message}}</span>
        </div> 
        <mat-icon class="icon bold" (click)="dialogRef.close('N');">close</mat-icon>
     </div>
     <div id="login" fxLayout="column">

        <div id="login-form-wrapper" fxLayout="column" fxLayoutAlign="center start">
    
            <div id="login-form" >
                <div *ngIf="data.type==='email'">
                    <form fxLayot="column" [formGroup]="editEmailForm">

                        <mat-form-field  appearance="outline">
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email">
                            <mat-icon matSuffix class="secondary-text">mail</mat-icon>
                            <mat-error>
                                Email is required
                            </mat-error>
                        
                        </mat-form-field>
        
                        <button mat-raised-button color="primary" class="submit-button" aria-label="LOG IN"
                        (click)="emailSubmit()" [disabled]="editEmailForm.invalid">
                            SUBMIT
                        </button>

                    </form>
                </div>
                <div *ngIf="data.type==='password'">
                    <form fxLayot="column" [formGroup]="editPasswordForm">

                        <mat-form-field appearance="outline">
                            <mat-label>Password</mat-label>
                            <input matInput type="password" formControlName="password" placeholder="password" [type]="pwdhide ? 'password' : 'text'">
                            <button type="button" mat-icon-button matSuffix (click)="pwdhide = !pwdhide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="pwdhide">
                            <mat-icon  matSuffix class="secondary-text">{{pwdhide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-error *ngIf="editPasswordForm.get('password').hasError('required')">
                                New password required
                            </mat-error>
                            <mat-error *ngIf="!editPasswordForm.get('password').hasError('required') && 
                            editPasswordForm.get('password').hasError('minlength')">
                                      Minimum length of password is 8
                            </mat-error>
                            
                        </mat-form-field>
        
                        <mat-form-field appearance="outline">
                            <mat-label>Confirm Password</mat-label>
                            <input matInput type="password" formControlName="confirm_password" placeholder=" confirm password" [type]="cpwdhide ? 'password' : 'text'">
                            <button type="button" mat-icon-button matSuffix (click)="cpwdhide = !cpwdhide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="cpwdhide">
                            <mat-icon  matSuffix class="secondary-text">{{cpwdhide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            </button>
                            <mat-error *ngIf="editPasswordForm.get('confirm_password').hasError('required')"> 
                                Confirm password required
                            </mat-error>
                            <mat-error *ngIf="!editPasswordForm.get('confirm_password').hasError('required') &&
                                    editPasswordForm.get('confirm_password').hasError('passwordsNotMatching')">
                                Password must match
                            </mat-error>
                            
                        </mat-form-field>
        
        
                        <button mat-raised-button color="primary" class="submit-button" aria-label="LOG IN"
                        (click)="passwordSubmit()" [disabled]="editPasswordForm.invalid">
                            SUBMIT
                        </button>

                    </form>
                </div>
                <div *ngIf="data.type==='phoneNo'">
                    <form fxLayot="column" [formGroup]="editPhoneNoForm">

                        <mat-form-field appearance="outline">
                            <input matInput formControlName="phone_number">
                            <mat-icon matSuffix class="secondary-text">phone</mat-icon>
                            <mat-error *ngIf="editPhoneNoForm.get('phone_number').hasError('required')">
                                Phone no is required
                            </mat-error>
                            <mat-error *ngIf="!editPhoneNoForm.get('phone_number').hasError('required') && 
                                    editPhoneNoForm.get('phone_number').hasError('pattern')">
                                Please, Enter 10 digit Mobile Number.
                            </mat-error>
                        
                        </mat-form-field>
        
                        <button mat-raised-button color="primary" class="submit-button" aria-label="LOG IN"
                        (click)="phoneNoSubmit()" [disabled]="editPhoneNoForm.invalid">
                            SUBMIT
                        </button>

                    </form>
                </div>
                <div *ngIf="data.type==='address'">
                    <form fxLayot="column" [formGroup]="editStoreAddressForm">

                        <mat-form-field appearance="outline">
                            <mat-label>Address 1</mat-label>
                            <textarea matInput formControlName="address_1" placeholder=""></textarea>
                            <mat-error>
                                Address is required
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Address 2</mat-label>
                            <textarea matInput formControlName="address_2" placeholder=""></textarea>

                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Address 3</mat-label>
                            <textarea matInput formControlName="address_2" placeholder=""></textarea>

                        </mat-form-field>
                        
                        <mat-form-field appearance="outline">
                            <mat-label>City</mat-label>
                            <input matInput formControlName="city">
                            <mat-error>City is required</mat-error>
                          
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>Country</mat-label>
                            <input matInput formControlName="country">
                            <mat-error>Country is required</mat-error>
                          
                        </mat-form-field>

                        <mat-form-field appearance="outline">
                            <mat-label>PostCode</mat-label>
                            <input  matInput formControlName="postcode">
                            <mat-error *ngIf="editStoreAddressForm.get('postcode').hasError('required')">
                                PostCode is required
                            </mat-error>
                            <mat-error *ngIf="!editStoreAddressForm.get('postcode').hasError('required') && 
                            !editStoreAddressForm.get('postcode').hasError('pattern') &&
                            editStoreAddressForm.get('postcode').hasError('minlength') ||
                            editStoreAddressForm.get('postcode').hasError('maxlength')">
                                      length must be 6 digit
                            </mat-error>
                            <!-- <mat-error *ngIf="!editStoreAddressForm.get('postcode').hasError('required') && 
                            !editStoreAddressForm.get('postcode').hasError('minlength') ||
                            !editStoreAddressForm.get('postcode').hasError('maxlength') &&
                             editStoreAddressForm.get('postcode').hasError('pattern')">
                                    Only Numbers are allowed
                            </mat-error>
                           -->
                        </mat-form-field>
        
                        <button mat-raised-button color="primary" class="submit-button" aria-label="LOG IN"
                        (click)="storeAddressSubmit()" [disabled]="editStoreAddressForm.invalid">
                            SUBMIT
                        </button>

                    </form>
                </div>
            </div>
            
        </div>
    </div>
</div>

